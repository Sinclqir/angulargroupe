{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../service/cart.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction ProductCardComponent_p_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 13);\n    i0.ɵɵtext(1, \"Plusieurs tailles disponibles\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductCardComponent_option_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 14);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const size_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", size_r2.price);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" Taille \", size_r2.taille, \" \");\n  }\n}\nexport class ProductCardComponent {\n  constructor(cartService) {\n    this.cartService = cartService;\n    this.value = 3000;\n    this.cartItemCount = 0;\n  }\n  ngOnInit() {\n    // Récupérer la valeur de cartItemCount depuis le local storage lors du chargement du composant\n    const storedCartItemCount = localStorage.getItem('cartItemCount');\n    if (storedCartItemCount) {\n      this.cartItemCount = parseInt(storedCartItemCount, 10);\n    }\n  }\n  SizeSelected(e) {\n    this.value = e.target.value;\n  }\n  onAddLike() {\n    if (this.myProduct.isLiked == false) {\n      this.myProduct.likes++;\n      this.myProduct.isLiked = true;\n    } else {\n      this.myProduct.likes--;\n      this.myProduct.isLiked = false;\n    }\n  }\n  addToCart() {\n    this.cartItemCount++;\n    // Stocker la valeur mise à jour de cartItemCount dans le local storage\n    localStorage.setItem('cartItemCount', this.cartItemCount.toString());\n    console.log(\"Produit ajouté au panier :\", this.myProduct);\n  }\n}\nProductCardComponent.ɵfac = function ProductCardComponent_Factory(t) {\n  return new (t || ProductCardComponent)(i0.ɵɵdirectiveInject(i1.CartService));\n};\nProductCardComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProductCardComponent,\n  selectors: [[\"app-product-card\"]],\n  inputs: {\n    myProduct: \"myProduct\"\n  },\n  decls: 24,\n  vars: 16,\n  consts: [[1, \"product-card\"], [\"alt\", \"Product image\", 1, \"product-image\", 3, \"src\"], [1, \"product-item-name\"], [1, \"product-item\"], [1, \"article-date\"], [\"class\", \"article-size\", 4, \"ngIf\"], [1, \"product-item\", 3, \"change\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"product-price\"], [1, \"buttons-container\"], [1, \"add-to-cart-button\", 3, \"click\"], [1, \"fas\", \"fa-cart-plus\"], [1, \"product-button\", 3, \"click\"], [1, \"article-size\"], [3, \"value\"]],\n  template: function ProductCardComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelement(1, \"img\", 1);\n      i0.ɵɵelementStart(2, \"h2\", 2);\n      i0.ɵɵtext(3);\n      i0.ɵɵpipe(4, \"uppercase\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"p\", 3);\n      i0.ɵɵtext(6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"p\", 4);\n      i0.ɵɵtext(8);\n      i0.ɵɵpipe(9, \"date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(10, ProductCardComponent_p_10_Template, 2, 0, \"p\", 5);\n      i0.ɵɵelementStart(11, \"select\", 6);\n      i0.ɵɵlistener(\"change\", function ProductCardComponent_Template_select_change_11_listener($event) {\n        return ctx.SizeSelected($event);\n      });\n      i0.ɵɵtemplate(12, ProductCardComponent_option_12_Template, 2, 2, \"option\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"p\", 8);\n      i0.ɵɵtext(14);\n      i0.ɵɵpipe(15, \"currency\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"div\", 9)(17, \"button\", 10);\n      i0.ɵɵlistener(\"click\", function ProductCardComponent_Template_button_click_17_listener() {\n        return ctx.addToCart();\n      });\n      i0.ɵɵelement(18, \"i\", 11);\n      i0.ɵɵtext(19, \" Ajouter au panier \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"button\", 12);\n      i0.ɵɵlistener(\"click\", function ProductCardComponent_Template_button_click_20_listener() {\n        return ctx.onAddLike();\n      });\n      i0.ɵɵelementStart(21, \"b\");\n      i0.ɵɵtext(22);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(23, \" \\u2665 \");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"src\", ctx.myProduct.imageUrl, i0.ɵɵsanitizeUrl);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(4, 8, ctx.myProduct.title));\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate(ctx.myProduct.description);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(9, 10, ctx.myProduct.date, \"EEEE d MMMM y\"));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.myProduct.sizes);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.myProduct.sizes);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(15, 13, ctx.value, \"EUR\"));\n      i0.ɵɵadvance(8);\n      i0.ɵɵtextInterpolate(ctx.myProduct.likes);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i2.UpperCasePipe, i2.CurrencyPipe, i2.DatePipe],\n  encapsulation: 2\n});","map":{"version":3,"mappings":";;;;;;IAKEA,6BAAgD;IAAAA,6CAA6B;IAAAA,iBAAI;;;;;IAE/EA,kCAAkE;IAChEA,YACF;IAAAA,iBAAS;;;;IAFoCA,qCAAoB;IAC/DA,eACF;IADEA,sDACF;;;ACCJ,OAAM,MAAOC,oBAAoB;EAK/BC,YAAoBC,WAAwB;IAAxB,gBAAW,GAAXA,WAAW;IAH/B,UAAK,GAAW,IAAI;IACpB,kBAAa,GAAW,CAAC;EAEuB;EAEhDC,QAAQ;IACN;IACA,MAAMC,mBAAmB,GAAGC,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC;IACjE,IAAIF,mBAAmB,EAAE;MACvB,IAAI,CAACG,aAAa,GAAGC,QAAQ,CAACJ,mBAAmB,EAAE,EAAE,CAAC;;EAE1D;EAEAK,YAAY,CAACC,CAAM;IACjB,IAAI,CAACC,KAAK,GAAGD,CAAC,CAACE,MAAM,CAACD,KAAK;EAC7B;EAEAE,SAAS;IACP,IAAI,IAAI,CAACC,SAAS,CAACC,OAAO,IAAI,KAAK,EAAE;MACnC,IAAI,CAACD,SAAS,CAACE,KAAK,EAAE;MACtB,IAAI,CAACF,SAAS,CAACC,OAAO,GAAG,IAAI;KAC9B,MAAM;MACL,IAAI,CAACD,SAAS,CAACE,KAAK,EAAE;MACtB,IAAI,CAACF,SAAS,CAACC,OAAO,GAAG,KAAK;;EAElC;EAEAE,SAAS;IACP,IAAI,CAACV,aAAa,EAAE;IACpB;IACAF,YAAY,CAACa,OAAO,CAAC,eAAe,EAAE,IAAI,CAACX,aAAa,CAACY,QAAQ,EAAE,CAAC;IACpEC,OAAO,CAACC,GAAG,CAAC,4BAA4B,EAAE,IAAI,CAACP,SAAS,CAAC;EAC3D;;AAlCWd,oBAAoB;mBAApBA,oBAAoB;AAAA;AAApBA,oBAAoB;QAApBA,oBAAoB;EAAAsB;EAAAC;IAAAT;EAAA;EAAAU;EAAAC;EAAAC;EAAAC;IAAA;MDVjC5B,8BAA0B;MACxBA,yBAA4E;MAC5EA,6BAA8B;MAAAA,YAA+B;;MAAAA,iBAAK;MAClEA,4BAAwB;MAAAA,YAAyB;MAAAA,iBAAI;MACrDA,4BAAwB;MAAAA,YAA0C;;MAAAA,iBAAI;MACtEA,mEAAiF;MACjFA,kCAA6D;MAAhCA;QAAA,OAAU6B,wBAAoB;MAAA,EAAC;MAC1D7B,6EAES;MACXA,iBAAS;MACTA,6BAAyB;MAAAA,aAA2B;;MAAAA,iBAAI;MAExDA,+BAA+B;MACMA;QAAA,OAAS6B,eAAW;MAAA,EAAC;MACtD7B,yBAAgC;MAChCA,oCACF;MAAAA,iBAAS;MACTA,mCAAqD;MAAtBA;QAAA,OAAS6B,eAAW;MAAA,EAAC;MAClD7B,0BAAG;MAAAA,aAAmB;MAAAA,iBAAI;MAACA,yBAC7B;MAAAA,iBAAS;;;MAnBgBA,eAA0B;MAA1BA,8DAA0B;MACvBA,eAA+B;MAA/BA,+DAA+B;MACrCA,eAAyB;MAAzBA,+CAAyB;MACzBA,eAA0C;MAA1CA,gFAA0C;MACzCA,eAAqB;MAArBA,0CAAqB;MAEnBA,eAAkB;MAAlBA,6CAAkB;MAIpBA,eAA2B;MAA3BA,8DAA2B;MAQ7CA,eAAmB;MAAnBA,yCAAmB","names":["i0","ProductCardComponent","constructor","cartService","ngOnInit","storedCartItemCount","localStorage","getItem","cartItemCount","parseInt","SizeSelected","e","value","target","onAddLike","myProduct","isLiked","likes","addToCart","setItem","toString","console","log","selectors","inputs","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\fuc35\\OneDrive\\Documents\\TRAVAIL\\Angular\\Projet\\YnovAngular\\src\\app\\product-card\\product-card.component.html","C:\\Users\\fuc35\\OneDrive\\Documents\\TRAVAIL\\Angular\\Projet\\YnovAngular\\src\\app\\product-card\\product-card.component.ts"],"sourcesContent":["<div class=\"product-card\">\r\n  <img class=\"product-image\" [src]=\"myProduct.imageUrl\" alt=\"Product image\" />\r\n  <h2 class=\"product-item-name\">{{myProduct.title | uppercase}}</h2>\r\n  <p class=\"product-item\">{{myProduct.description}}</p>\r\n  <p class=\"article-date\">{{myProduct.date | date:'EEEE d MMMM y' }}</p>\r\n  <p class=\"article-size\" *ngIf=\"myProduct.sizes\">Plusieurs tailles disponibles</p>\r\n  <select class=\"product-item\" (change)=\"SizeSelected($event)\">\r\n    <option *ngFor=\"let size of myProduct.sizes\" [value]=\"size.price\">\r\n      Taille {{size.taille}}\r\n    </option>\r\n  </select>\r\n  <p class=\"product-price\">{{value | currency: 'EUR'}}</p>\r\n  \r\n  <div class=\"buttons-container\">\r\n    <button class=\"add-to-cart-button\" (click)=\"addToCart()\">\r\n      <i class=\"fas fa-cart-plus\"></i>\r\n      Ajouter au panier\r\n    </button>\r\n    <button class=\"product-button\" (click)=\"onAddLike()\">\r\n      <b>{{myProduct.likes}}</b> ♥\r\n    </button>\r\n  </div>\r\n  \r\n\r\n</div>\r\n","import { Component, OnInit, Input } from '@angular/core';\r\nimport { Product } from '../models/product.model';\r\nimport { Size } from '../models/size.model';\r\nimport { CartService } from '../service/cart.service';\r\n\r\n@Component({\r\n  selector: 'app-product-card',\r\n  templateUrl: `./product-card.component.html`,\r\n  styles: []\r\n})\r\nexport class ProductCardComponent implements OnInit {\r\n  @Input() myProduct!: Product;\r\n  value: number = 3000;\r\n  cartItemCount: number = 0;\r\n  \r\n  constructor(private cartService: CartService) { }\r\n  \r\n  ngOnInit() {\r\n    // Récupérer la valeur de cartItemCount depuis le local storage lors du chargement du composant\r\n    const storedCartItemCount = localStorage.getItem('cartItemCount');\r\n    if (storedCartItemCount) {\r\n      this.cartItemCount = parseInt(storedCartItemCount, 10);\r\n    }\r\n  }\r\n\r\n  SizeSelected(e: any) {\r\n    this.value = e.target.value;\r\n  }\r\n\r\n  onAddLike() {\r\n    if (this.myProduct.isLiked == false) {\r\n      this.myProduct.likes++;\r\n      this.myProduct.isLiked = true;\r\n    } else {\r\n      this.myProduct.likes--;\r\n      this.myProduct.isLiked = false;\r\n    }\r\n  }\r\n\r\n  addToCart() {\r\n    this.cartItemCount++;\r\n    // Stocker la valeur mise à jour de cartItemCount dans le local storage\r\n    localStorage.setItem('cartItemCount', this.cartItemCount.toString());\r\n    console.log(\"Produit ajouté au panier :\", this.myProduct);\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}